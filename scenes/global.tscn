[gd_scene load_steps=11 format=3 uid="uid://cnx0qoigfwowt"]

[ext_resource type="Script" path="res://scripts/global.gd" id="1_ns8u2"]
[ext_resource type="PackedScene" uid="uid://yochq87itm7n" path="res://scenes/canvas_and_ui/blink_canvas.tscn" id="2_hhiff"]
[ext_resource type="PackedScene" uid="uid://cacrsub4xm8ki" path="res://scenes/canvas_and_ui/map_canvas.tscn" id="3_qypii"]
[ext_resource type="Texture2D" uid="uid://815kc8jbxgt8" path="res://assets/sprites/info.png" id="4_f4xqb"]
[ext_resource type="Theme" uid="uid://dpx7360fa1xhk" path="res://assets/fonts/global.tres" id="4_h8aec"]
[ext_resource type="AudioStream" uid="uid://bej3mnpcaghkx" path="res://assets/sounds_and_music/hint_up.mp3" id="6_llnpo"]
[ext_resource type="AudioStream" uid="uid://drivttx1tqo6c" path="res://assets/sounds_and_music/hint_down.mp3" id="7_yt08d"]

[sub_resource type="Animation" id="Animation_0vibf"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HintUP:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:offset")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("HintDOWN:playing")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_0wcm3"]
resource_name = "hint_popup"
length = 8.0
capture_included = true
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HintUP:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:offset")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.166667, 7.83333, 8),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 2,
"values": [Vector2(0, 100), Vector2(0, 0), Vector2(0, 0), Vector2(0, 100)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("HintDOWN:playing")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(7.6),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 8),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dwwfa"]
_data = {
"RESET": SubResource("Animation_0vibf"),
"hint_popup": SubResource("Animation_0wcm3")
}

[node name="Global" type="Node"]
script = ExtResource("1_ns8u2")

[node name="BlinkCanvas" parent="." instance=ExtResource("2_hhiff")]

[node name="BlinkTimer" type="Timer" parent="BlinkCanvas"]

[node name="MapCanvas" parent="." instance=ExtResource("3_qypii")]

[node name="HintCanvas" type="CanvasLayer" parent="."]

[node name="HBoxContainer" type="HBoxContainer" parent="HintCanvas"]
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.943
anchor_right = 0.5
anchor_bottom = 0.943
offset_left = -20.0
offset_top = -40.0
offset_right = 20.0
grow_horizontal = 2
grow_vertical = 0

[node name="TextureRect" type="TextureRect" parent="HintCanvas/HBoxContainer"]
layout_mode = 2
texture = ExtResource("4_f4xqb")
expand_mode = 2

[node name="Label" type="Label" parent="HintCanvas/HBoxContainer"]
layout_mode = 2
theme = ExtResource("4_h8aec")
text = "Hint"

[node name="AnimationPlayer" type="AnimationPlayer" parent="HintCanvas"]
libraries = {
"": SubResource("AnimationLibrary_dwwfa")
}

[node name="HintUP" type="AudioStreamPlayer" parent="HintCanvas"]
stream = ExtResource("6_llnpo")
bus = &"SF"

[node name="HintDOWN" type="AudioStreamPlayer" parent="HintCanvas"]
stream = ExtResource("7_yt08d")
bus = &"SF"

[connection signal="timeout" from="BlinkCanvas/BlinkTimer" to="." method="_on_blink_timer_timeout"]
