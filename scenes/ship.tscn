[gd_scene load_steps=16 format=3 uid="uid://ik6isrf6c2jt"]

[ext_resource type="PackedScene" uid="uid://cmrk4kipf4ety" path="res://assets/models/items/Ship2.glb" id="1_l4hqr"]
[ext_resource type="Script" path="res://scripts/ship.gd" id="2_0o2k5"]
[ext_resource type="PackedScene" uid="uid://cy0cnc8uccist" path="res://scenes/Tasks/repair_task.tscn" id="2_2oxk1"]
[ext_resource type="Material" uid="uid://billcabj1j5s5" path="res://assets/textures/water.tres" id="4_6m6rm"]
[ext_resource type="PackedScene" uid="uid://c0moaioc8dy8s" path="res://scenes/Tasks/bucket_task.tscn" id="5_3byml"]
[ext_resource type="PackedScene" uid="uid://bwqv8jh10h2q6" path="res://scenes/box.tscn" id="6_xowsk"]
[ext_resource type="PackedScene" uid="uid://3s1npfpa23e2" path="res://scenes/large_box.tscn" id="7_j0384"]
[ext_resource type="PackedScene" uid="uid://chxgbvh3j8dp3" path="res://scenes/Tasks/bucket_spill_task.tscn" id="8_h62ty"]
[ext_resource type="PackedScene" uid="uid://dwq07dt6pmxma" path="res://scenes/Tasks/fishing_task.tscn" id="9_kub6g"]
[ext_resource type="PackedScene" uid="uid://br4op248hs8u1" path="res://scenes/lantern_hook.tscn" id="9_mcgqo"]
[ext_resource type="PackedScene" uid="uid://dt77syxstk6xr" path="res://scenes/lantern_stand.tscn" id="10_cs0w4"]

[sub_resource type="BoxShape3D" id="BoxShape3D_piq1m"]
size = Vector3(1.5, 4.81273, 0.230859)

[sub_resource type="BoxShape3D" id="BoxShape3D_dyrlc"]
size = Vector3(1.5, 3.11551, 0.2)

[sub_resource type="BoxMesh" id="BoxMesh_jadsu"]
material = ExtResource("4_6m6rm")
size = Vector3(9.11, -0.565, 12.125)

[sub_resource type="BoxShape3D" id="BoxShape3D_gui7v"]
size = Vector3(29.4331, 7.01654, 44.7451)

[node name="Ship" instance=ExtResource("1_l4hqr")]
script = ExtResource("2_0o2k5")

[node name="collision" parent="." index="1"]
collision_layer = 2
collision_mask = 5

[node name="StairColliders" type="Node3D" parent="." index="2"]
transform = Transform3D(1, -7.10543e-15, -7.10543e-15, 0, 1, 0, -4.30333e-22, 0, 1, 9.31323e-10, 0, -5.03451e-17)

[node name="StaticBody3D" type="StaticBody3D" parent="StairColliders" index="0"]
transform = Transform3D(1, 0, 0, 0, 0.734251, 0.678878, 0, -0.678878, 0.734251, -3.20341, -2.98067, -2.07536)
collision_layer = 2
collision_mask = 5

[node name="CollisionShape3D" type="CollisionShape3D" parent="StairColliders/StaticBody3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0789809, -0.124574)
shape = SubResource("BoxShape3D_piq1m")

[node name="StaticBody3D2" type="StaticBody3D" parent="StairColliders" index="1"]
transform = Transform3D(-1, 5.93986e-08, -6.41447e-08, -1.32432e-08, 0.622337, 0.782749, 8.64139e-08, 0.782749, -0.622337, -3.49101, -3.08701, 6.38875)
collision_layer = 2
collision_mask = 5

[node name="CollisionShape3D" type="CollisionShape3D" parent="StairColliders/StaticBody3D2" index="0"]
transform = Transform3D(1, -7.44713e-10, -6.83031e-10, 7.38254e-10, 0.999936, -0.0115714, 6.91589e-10, 0.0115726, 0.999933, 0, -0.0139308, 0.0211959)
shape = SubResource("BoxShape3D_dyrlc")

[node name="StaticBody3D3" type="StaticBody3D" parent="StairColliders" index="2"]
transform = Transform3D(-1, 5.93986e-08, -6.41447e-08, -1.32432e-08, 0.622337, 0.782749, 8.64139e-08, 0.782749, -0.622337, 2.85913, -3.08701, 6.38875)
collision_layer = 2
collision_mask = 5

[node name="CollisionShape3D" type="CollisionShape3D" parent="StairColliders/StaticBody3D3" index="0"]
transform = Transform3D(1, -7.44713e-10, -6.83031e-10, 7.38254e-10, 0.999936, -0.0115714, 6.91589e-10, 0.0115726, 0.999933, 0, -0.0139308, 0.0211959)
shape = SubResource("BoxShape3D_dyrlc")

[node name="RepairTasks" type="Node3D" parent="." index="3"]

[node name="RepairTask" parent="RepairTasks" index="0" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -4.1853, -0.58553)

[node name="RepairTask4" parent="RepairTasks" index="1" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 0.998652, -0.0519002, 0, 0.0519002, 0.998652, -1.27865, -4.07294, -2.42625)

[node name="RepairTask5" parent="RepairTasks" index="2" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, -0.063017, -0.998012, 0, 0.998012, -0.063017, -1.27865, -3.17485, -3.88678)

[node name="RepairTask6" parent="RepairTasks" index="3" instance=ExtResource("2_2oxk1")]
transform = Transform3D(0.99998, -0.00637041, 2.78459e-10, 0, -4.37114e-08, -1, 0.00637041, 0.99998, -4.37105e-08, 0.440101, -2.81703, -3.79564)

[node name="RepairTask7" parent="RepairTasks" index="4" instance=ExtResource("2_2oxk1")]
transform = Transform3D(0.997368, -0.0725071, 3.16939e-09, 0, -4.37114e-08, -1, 0.0725071, 0.997368, -4.35963e-08, 1.67405, -3.0549, -3.76108)

[node name="RepairTask2" parent="RepairTasks" index="5" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.0909, -4.14089, 0.639555)

[node name="RepairTask8" parent="RepairTasks" index="6" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.02962, -4.14089, 2.68759)

[node name="RepairTask9" parent="RepairTasks" index="7" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.50003, -4.14089, -1.20176)

[node name="RepairTask10" parent="RepairTasks" index="8" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.09408, -4.14089, 1.17261)

[node name="RepairTask11" parent="RepairTasks" index="9" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.55493, -4.14089, 2.90671)

[node name="RepairTask12" parent="RepairTasks" index="10" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.184464, -4.14089, 2.70053)

[node name="RepairTask13" parent="RepairTasks" index="11" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.32967, -4.08177, 4.09621)

[node name="RepairTask16" parent="RepairTasks" index="12" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.32967, -1.95565, 8.73584)

[node name="RepairTask17" parent="RepairTasks" index="13" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.69098, -1.90616, 9.28661)

[node name="RepairTask18" parent="RepairTasks" index="14" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.537685, -1.84002, 10.6272)

[node name="RepairTask19" parent="RepairTasks" index="15" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.737259, -1.57986, 12.2556)

[node name="RepairTask14" parent="RepairTasks" index="16" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.885729, -2.86224, 7.53241)

[node name="RepairTask15" parent="RepairTasks" index="17" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -1.11341, -2.86224, 7.51519)

[node name="RepairTask3" parent="RepairTasks" index="18" instance=ExtResource("2_2oxk1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.40819, -4.12943, -1.49116)

[node name="RepairTimer" type="Timer" parent="." index="4"]
wait_time = 15.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3.92926, 1.80947)
mesh = SubResource("BoxMesh_jadsu")
metadata/_edit_lock_ = true

[node name="BucketTask" parent="." index="6" instance=ExtResource("5_3byml")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3.91, 1.8)

[node name="Props" type="Node3D" parent="." index="7"]

[node name="Box5" parent="Props" index="0" instance=ExtResource("6_xowsk")]
transform = Transform3D(0.852731, 0, -0.52235, 0, 1, 0, 0.52235, 0, 0.852731, 2.74725, -3.75614, -3.37113)

[node name="Box4" parent="Props" index="1" instance=ExtResource("6_xowsk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.58794, -2.63334, -3.42653)

[node name="Box3" parent="Props" index="2" instance=ExtResource("6_xowsk")]
transform = Transform3D(0.868052, 0, 0.496474, 0, 1, 0, -0.496474, 0, 0.868052, 4.21056, -2.63334, -3.02581)

[node name="Box2" parent="Props" index="3" instance=ExtResource("6_xowsk")]
transform = Transform3D(0.843457, 0, 0.537197, 0, 1, 0, -0.537197, 0, 0.843457, 3.93442, -2.02027, -3.21941)

[node name="Box8" parent="Props" index="4" instance=ExtResource("6_xowsk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.02117, 0.994297, -10.3748)

[node name="Box9" parent="Props" index="5" instance=ExtResource("6_xowsk")]
transform = Transform3D(0.868052, 0, 0.496474, 0, 1, 0, -0.496474, 0, 0.868052, 3.64379, 0.994297, -9.97404)

[node name="Box10" parent="Props" index="6" instance=ExtResource("6_xowsk")]
transform = Transform3D(0.843457, 0, 0.537197, 0, 1, 0, -0.537197, 0, 0.843457, 3.36764, 1.60737, -10.1676)

[node name="Box6" parent="Props" index="7" instance=ExtResource("6_xowsk")]
transform = Transform3D(1, 0, 0, 0, 0.995856, 0.0909454, 0, -0.0909454, 0.995856, 2.09845, -3.55855, 6.71196)

[node name="Box7" parent="Props" index="8" instance=ExtResource("6_xowsk")]
transform = Transform3D(0.863574, -0.0917753, 0.495799, 0.0289322, 0.990695, 0.13299, -0.503391, -0.100502, 0.858194, 2.89202, -3.46681, 6.85453)

[node name="LargeBox" parent="Props" index="9" instance=ExtResource("7_j0384")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.87353, -3.51928, -3.17043)

[node name="LanternStand" parent="Props" index="10" instance=ExtResource("10_cs0w4")]
transform = Transform3D(0.95534, 0, -0.295508, 0, 1, 0, 0.295508, 0, 0.95534, -4.72838, -2.9916, -0.66089)

[node name="LanternStand2" parent="Props" index="11" instance=ExtResource("10_cs0w4")]
transform = Transform3D(0.95534, 0, -0.295508, 0, 1, 0, 0.295508, 0, 0.95534, 3.44343, -2.48468, -2.66349)

[node name="LanternStand5" parent="Props" index="12" instance=ExtResource("10_cs0w4")]
transform = Transform3D(0.981121, 0, 0.193395, 0, 1, 0, -0.193395, 0, 0.981121, 2.82635, 0.271717, -4.09679)

[node name="LanternStand3" parent="Props" index="13" instance=ExtResource("10_cs0w4")]
transform = Transform3D(0.850472, -6.44984e-11, 0.526021, -0.0149902, 0.999594, 0.0242362, -0.525807, -0.0284974, 0.850127, 2.06543, -2.8316, 6.65274)

[node name="LanternStand4" parent="Props" index="14" instance=ExtResource("10_cs0w4")]
transform = Transform3D(0.850472, 1.23656e-09, 0.526021, -0.047821, 0.995859, 0.077317, -0.523843, -0.0909107, 0.84695, 3.67434, 0.439604, 10.6865)

[node name="LanternHookAlpha" parent="Props" index="15" instance=ExtResource("9_mcgqo")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -0.0441762, -1.44956, 0.0844055)

[node name="LanternHookAlpha3" parent="Props" index="16" instance=ExtResource("9_mcgqo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.20066, -0.340426, -3.48783)

[node name="LanternHookAlpha4" parent="Props" index="17" instance=ExtResource("9_mcgqo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.12826, -0.340426, -3.48783)

[node name="LanternHookAlpha2" parent="Props" index="18" instance=ExtResource("9_mcgqo")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -0.00778437, -1.44956, 1.40432)

[node name="DroppedItems" type="Area3D" parent="." index="8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -15, 0)
collision_layer = 16
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="DroppedItems" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.335205, -2.84164, 1.58243)
shape = SubResource("BoxShape3D_gui7v")

[node name="ItemsRespawn" type="Marker3D" parent="DroppedItems" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 13, 6)

[node name="Tasks" type="Node3D" parent="." index="9"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.38883, 0.271543)

[node name="BucketSpillTask" parent="Tasks" index="0" instance=ExtResource("8_h62ty")]
transform = Transform3D(0.00399679, 0, 0.999992, 0, 1, 0, -0.999992, 0, 0.00399679, -4.6988, 2, 4.38386)

[node name="BucketSpillTask2" parent="Tasks" index="1" instance=ExtResource("8_h62ty")]
transform = Transform3D(0.00399679, 0, 0.999992, 0, 1, 0, -0.999992, 0, 0.00399679, -4.69081, 2, 2.38387)

[node name="BucketSpillTask3" parent="Tasks" index="2" instance=ExtResource("8_h62ty")]
transform = Transform3D(0.00399679, 0, 0.999992, 0, 1, 0, -0.999992, 0, 0.00399679, -4.6988, 2, 0.360244)

[node name="BucketSpillTask4" parent="Tasks" index="3" instance=ExtResource("8_h62ty")]
transform = Transform3D(0.00399679, 0, 0.999992, 0, 1, 0, -0.999992, 0, 0.00399679, -4.69081, 2, -1.63974)

[node name="BucketSpillTask5" parent="Tasks" index="4" instance=ExtResource("8_h62ty")]
transform = Transform3D(0.00399679, 0, 0.999992, 0, 1, 0, -0.999992, 0, 0.00399679, 4.5491, 2, 4.38386)

[node name="BucketSpillTask6" parent="Tasks" index="5" instance=ExtResource("8_h62ty")]
transform = Transform3D(0.00399679, 0, 0.999992, 0, 1, 0, -0.999992, 0, 0.00399679, 4.55709, 2, 2.38387)

[node name="BucketSpillTask7" parent="Tasks" index="6" instance=ExtResource("8_h62ty")]
transform = Transform3D(0.00399679, 0, 0.999992, 0, 1, 0, -0.999992, 0, 0.00399679, 4.5491, 2, 0.360244)

[node name="BucketSpillTask8" parent="Tasks" index="7" instance=ExtResource("8_h62ty")]
transform = Transform3D(0.00399679, 0, 0.999992, 0, 1, 0, -0.999992, 0, 0.00399679, 4.55709, 2, -1.63974)

[node name="FishingTask" parent="Tasks" index="8" instance=ExtResource("9_kub6g")]
transform = Transform3D(0.844581, -0.258189, -0.469064, 0.224808, 0.966093, -0.126988, 0.485947, 0.00180252, 0.873987, 3.682, 3.65607, 12.0324)

[connection signal="timeout" from="RepairTimer" to="." method="_on_repair_timer_timeout"]
[connection signal="body_entered" from="DroppedItems" to="." method="_on_dropped_items_body_entered"]
